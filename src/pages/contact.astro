---
import BaseLayout from "../layouts/BaseLayout.astro";
import Navbar from "../components/Navbar.astro";
---

<BaseLayout
  title="Handyman Services in West Fort Worth"
  description="Affordable and reliable handyman services in West Fort Worth. Drywall repair, door repair, fixture installation, and home maintenance."
>


<Navbar />

<section class="pt-40 pb-24 bg-brand-offwhite">
  <div class="max-w-3xl mx-auto px-6">

    <h1 class="text-4xl font-bold text-brand-navy mb-6 text-center">
      Request an Estimate
    </h1>

    <p class="text-center text-brand-gray mb-10">
      Tell us about your project and we'll get back to you.
    </p>

    <form
      id="contactForm"
      class="space-y-6 bg-white p-8 rounded-xl shadow"
    >

      <input
        name="name"
        placeholder="Name"
        required
        class="w-full border p-4 rounded"
      />

      <input
        name="email"
        type="email"
        placeholder="Email"
        required
        class="w-full border p-4 rounded"
      />

      <input
        name="phone"
        placeholder="Phone"
        class="w-full border p-4 rounded"
      />

      <textarea
        name="message"
        placeholder="Describe your project"
        required
        rows="5"
        class="w-full border p-4 rounded"
      ></textarea>

      <button
        class="w-full bg-brand-red text-white py-4 rounded-lg font-semibold"
      >
        Send Request
      </button>

      <p id="formStatus" class="text-center"></p>

    </form>

  </div>
</section>

<script>
  const form = document.getElementById("contactForm");
  const status = document.getElementById("formStatus");

  form?.addEventListener("submit", async (e) => {
    e.preventDefault();

    const formData = new FormData(form);

    status.textContent = "Sending...";

    const res = await fetch("/api/contact", {
      method: "POST",
      body: formData,
    });

    if (res.ok) {
      status.textContent = "Thanks! We'll contact you soon.";
      form.reset();
    } else {
      status.textContent = "Something went wrong. Please try again.";
    }
  });
</script>

</BaseLayout>
