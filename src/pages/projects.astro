---
import BaseLayout from "../layouts/BaseLayout.astro";
import Navbar from "../components/Navbar.astro";

/* Replace these with your real photos later */
const projects = [
  {
    src: "/projects/flooring1.jpg",
    title: "Laminate Flooring Installation",
    alt: "Laminate flooring installation in West Fort Worth home"
  },
  {
    src: "/projects/drywall1.jpg",
    title: "Drywall Repair",
    alt: "Drywall repair project"
  },
  {
    src: "/projects/door1.jpg",
    title: "Door Repair",
    alt: "Interior door repair"
  },
  {
    src: "/projects/fence1.jpg",
    title: "Fence Repair",
    alt: "Fence repair project"
  }
];
---

<BaseLayout title="Project Gallery | West Fort Worth Handyman">

<Navbar />

<!-- HERO -->
<section class="bg-brand-navy text-white pt-40 pb-24 text-center">
  <div class="max-w-4xl mx-auto px-6">
    <h1 class="text-4xl md:text-5xl font-bold mb-6">
      Our Work
    </h1>

    <p class="text-lg text-gray-200">
      Recent home repair and installation projects in West Fort Worth.
    </p>
  </div>
</section>

<!-- GALLERY -->
<section class="py-24 bg-brand-offwhite">

  <div class="max-w-6xl mx-auto px-6">

    <div class="grid sm:grid-cols-2 md:grid-cols-3 gap-8">

      {projects.map(project => (
        <div
          class="group cursor-pointer"
          onclick={`openModal('${project.src}', '${project.title}')`}
        >
          <div class="overflow-hidden rounded-xl shadow-md">

            <img
              src={project.src}
              alt={project.alt}
              class="w-full h-64 object-cover group-hover:scale-105 transition"
            />

          </div>

          <p class="mt-3 text-brand-navy font-medium">
            {project.title}
          </p>
        </div>
      ))}

    </div>

  </div>

</section>

<!-- IMAGE MODAL -->
<div
  id="galleryModal"
  class="fixed inset-0 bg-black/80 hidden items-center justify-center z-[9999]"
>
  <img id="modalImage" class="max-w-[90%] max-h-[90%] rounded-lg" />
</div>

<script>
  const modal = document.getElementById("galleryModal");
  const modalImg = document.getElementById("modalImage");

  window.openModal = (src) => {
    modalImg.src = src;
    modal.classList.remove("hidden");
    modal.classList.add("flex");
  };

  modal?.addEventListener("click", () => {
    modal.classList.add("hidden");
    modal.classList.remove("flex");
  });
</script>

</BaseLayout>
